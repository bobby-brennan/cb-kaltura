{
  "name": "Kaltura",
  "actions": {
    "listMedia": {
      "label": "List Media",
      "template": "list-media",
      "inputs": [{
        "name": "nameLike",
        "type": "string"
      }]
    },
    "like": {
      "label": "Like",
      "template": "like",
      "inputs": [{
        "name": "videoID"
      }]
    },
    "unlike": {
      "label": "Unlike",
      "template": "unlike",
      "inputs": [{
        "name": "videoID"
      }]
    },
    "checkLike": {
      "label": "Check Like",
      "template": "check-like",
      "inputs": [{
        "name": "videoID"
      }]
    }
  },
  "views": {
    "videoPlayer": {
      "label": "Video Player",
      "template": "video-player",
      "inputs": [{
        "name": "videoID"
      }, {
        "name": "partnerID"
      }, {
        "name": "skin"
      }, {
        "name": "includeLikeButton",
        "type": "boolean"
      }]
    },
    "mediaList": {
      "label": "Video Search",
      "template": "media-list",
      "inputs": [{
        "name": "videos",
        "type": "array"
      }]
    },
    "likeButton": {
      "label": "Like Button",
      "template": "like-button",
      "inputs": [{
        "name": "includeUnlikeButton"
      }]
    }
  },
  "recipes": {
    "setup": {
      "questions": [{
        "question": "Welcome! I just need some information about your Kaltura account to get started",
        "tip": "You can find your info at http://kmc.kaltura.com/index.php/kmc/kmc4#account|integration",
        "label": "Welcome",
        "type": "dialogue"
      }, {
        "question": "What is your partner ID?",
        "tip": "You can find your info at http://kmc.kaltura.com/index.php/kmc/kmc4#account|integration",
        "name": "partner_id",
        "label": "Partner ID",
        "type": "string",
        "required": true
      }, {
        "question": "What is your admin secret?",
        "tip": "You can find your info at http://kmc.kaltura.com/index.php/kmc/kmc4#account|integration",
        "name": "admin_secret",
        "label": "Admin Secret",
        "type": "string",
        "required": true
      }]
    },
    "likeButton": {
      "label": "Like Button",
      "actions": {
        "like": {
          "inputs": {
            "videoID": {}
          }
        },
        "unlike": {
          "inputs": {
            "videoID": {}
          }
        },
        "checkLike": {
          "data": true
          "inputs": {
            "videoID": {}
          }
        }
      },
      "view": {
        "name": "videoPlayer",
        "inputs": {
          "includeLikeButton": {"val": true},
          "videoID": {"answer": "videoID"}
        }
      },
      "questions": [{
        "question": "What video is the button for?",
        "label": "Video ID",
        "type": "string",
        "name": "videoID",
        "placeholder": "1_eg2xfvy",
        "required": true
      }, {
        "include": "videoPlayer",
        "label": "Video Player",
      }, {
        "question": "Do you want an 'unlike' button?",
        "label": "Unlike",
        "type": "boolean",
        "name": "includeUnlikeButton"
      }]
    },
    "videoPlayer": {
      "label": "Video Player",
      "actions": {},
      "view": {
        "name": "videoPlayer",
        "inputs": {
          "skin": {}
        } 
      },
      "questions": [{
        "question": "What video should the player be for?",
        "label": "Video ID",
        "name": "videoID",
        "type": "string"
      }, {
        "question": "Which skin would you like to use?",
        "label": "Skin",
        "name": "skin",
        "type": "enum",
        "values": {
          "KDP3 Dark Skin": "27723522",
          "KDP3 Blue Skin": "27723532",
          "KDP3 Light Skin": "27723542",
          "508 Player": "8704822",
          "Hovering Controls Player": "24666891",
          "Player with Captions": "24666901",
          "Widescreen Player - Light Skin": "24666921",
          "Widescreen Player": "24666881",
          "Player with no share button": "24666871"
        }
      }, {
        "question": "Want to include a like button?",
        "label": "Like Button",
        "name": "includeLikeButton",
        "type": "boolean",
        "conditionals": {
          "true": [{
            "include": "likeButton",
            "name": "likeButton",
            "inputs": {
              "videoID": {"inherit": "videoID"},
              "includeVideoPlayer": {"val": true}
            }
          }]
        }
      }]
    },
    "mediaList": {
      "label": "Video Search",
      "actions": {
        "listMedia": {
          "data": true
        }
      },
      "view": {
        "name": "mediaList",
        "inputs": {
          "videos": {"result": "listMedia"}
        }
      },
      "questions": [{
        "name": "nameLike",
        "question": "What should the query be?",
        "label": "Query",
        "type": "string",
        "required": true,
        "userInput": true
      }, {
        "include": "videoPlayer",
        "name": "videoPlayer",
        "label": "Video Player",
        "inputs": {
          "videoID": {"serverInput": true}
        }
      }]
    }
  }
}
